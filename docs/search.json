[
  {
    "objectID": "lab2_template.html",
    "href": "lab2_template.html",
    "title": "Lab 2: Spatial Analysis and Visualization",
    "section": "",
    "text": "Learning Objectives:\n- Apply spatial operations to answer policy-relevant research questions\n- Integrate census demographic data with spatial analysis\n- Create publication-quality visualizations and maps\n- Work with spatial data from multiple sources\n- Communicate findings effectively for policy audiences"
  },
  {
    "objectID": "lab2_template.html#assignment-overview",
    "href": "lab2_template.html#assignment-overview",
    "title": "Lab 2: Spatial Analysis and Visualization",
    "section": "",
    "text": "Learning Objectives:\n- Apply spatial operations to answer policy-relevant research questions\n- Integrate census demographic data with spatial analysis\n- Create publication-quality visualizations and maps\n- Work with spatial data from multiple sources\n- Communicate findings effectively for policy audiences"
  },
  {
    "objectID": "lab2_template.html#part-1-healthcare-access-for-vulnerable-populations",
    "href": "lab2_template.html#part-1-healthcare-access-for-vulnerable-populations",
    "title": "Lab 2: Spatial Analysis and Visualization",
    "section": "Part 1: Healthcare Access for Vulnerable Populations",
    "text": "Part 1: Healthcare Access for Vulnerable Populations\n\nResearch Question\nWhich Pennsylvania counties have the highest proportion of vulnerable populations (elderly + low-income) living far from hospitals?\nMy analysis should identify counties that should be priorities for healthcare investment and policy intervention.\n#Analysis Steps\nI have Completed the following analysis, tried to give the brief explanations about each step (Although if you want codes you may check technical details through my source code on GitHub:\n#Step 1: Data Detail\nI have used the following data :\n- Pennsylvania county boundaries\n- Pennsylvania hospitals\n- Pennsylvania census tracts\n\n# Load spatial data\npa_counties &lt;- st_read(\"D:/Ph.D/US Pakistan Knowledge Corridore/Upenn/Subjects/Public Policy Analytics/Week 4/Data/Pennsylvania_County_Boundaries.shp\")\ndistricts &lt;- st_read(\"D:/Ph.D/US Pakistan Knowledge Corridore/Upenn/Subjects/Public Policy Analytics/Week 4/Data/districts.geojson\")\nhospitals &lt;- st_read(\"D:/Ph.D/US Pakistan Knowledge Corridore/Upenn/Subjects/Public Policy Analytics/Week 4/data/hospitals.geojson\")  \nstate_bounds &lt;- st_read(\"https://gis.penndot.pa.gov/gis/rest/services/opendata/stateboundary/MapServer/0/query?outFields=*&where=1%3D1&f=geojson\")\npa_countiesdbf &lt;- st_read(\"D:/Ph.D/US Pakistan Knowledge Corridore/Upenn/Subjects/Public Policy Analytics/Week 4/Data/Pennsylvania_County_Boundaries.dbf\")\n\n# Check that all data loaded correctly\n\nI will answer the following questions in my analysis : - How many hospitals are in your dataset? - How many census tracts? - What coordinate reference system is each dataset in?\n\n#I am obtaining tract-level demographic data for Pennsylvania from American Census Survey data portal.\nFollowing are the variables I am taking into consideration - Total population - Median household income - Population 65 years and over (you may need to sum multiple age categories)\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |                                                                      |   1%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |===================                                                   |  28%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |=========================                                             |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |============================                                          |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |==============================                                        |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |===============================================                       |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |=================================================                     |  71%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |===================================================                   |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |==========================================================            |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |================================================================      |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |==================================================================    |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |====================================================================  |  98%\n  |                                                                            \n  |===================================================================== |  99%\n  |                                                                            \n  |======================================================================| 100%\n\n\n\n\n\n\n\n\n\nQuestions to answer:\n\nWhat year of ACS data are you using? I am using 2022 ACS data.\nHow many tracts have missing income data? There is 0 tract with missing income data.\nWhat is the median income across all PA census tracts?\n\n\n\n[1] 70188\n\n\n#Vulnerable Populations I have classified those people as vulnerable whose income is less than 50000 and whom age is above 65 years of age in all tracts of Pensylvania.\nThese two are my criterias: 1. Low median household income (median_incomeE &lt; 50000)\n2. Significant elderly population (Population_65_over &gt; 200)\nYour Task:\nMy replies to some important questions here:\n\nWhat income threshold did you choose and why? I have chosen an income threshold of $50,000 because it is a common benchmark for low-income status in many policy analyses. It also allows us to capture a significant portion of the population that may be struggling financially, while still including enough tracts for meaningful analysis.\nWhat elderly population threshold did you choose and why? I have chosen an elderly population threshold of 200 because it represents a significant number of elderly residents in a tract, which may indicate a higher need for healthcare services. This threshold allows us to focus on tracts that have a substantial elderly population, which is often more vulnerable to health issues and may require more frequent access to hospitals.\nHow many tracts meet your vulnerability criteria? There are total 555 tracts that meet the vulnerability criteria of having a median household income below $50,000 and an elderly population of over 200.\nWhat percentage of PA census tracts are considered vulnerable by your definition? Total 16.1103 percent of PA census tracts are considered vulnerable by the defined criteria. That are basically 555 tracts out of total 3447 tracts in Pennsylvania. Simply 555/3447*100 = 16.1103 percent.\n\n\n(nrow(vulnerable_tracts) / nrow(tracts_with_data)) * 100\n\n[1] 16.1103\n\n\n\n\nStep 4: Calculate Distance to Hospitals\nFor each vulnerable tract, calculate the distance to the nearest hospital.\nYour Task:\n\n# Transform to appropriate projected CRS\nst_crs(vulnerable_tracts)\n\nCoordinate Reference System:\n  User input: NAD83 \n  wkt:\nGEOGCRS[\"NAD83\",\n    DATUM[\"North American Datum 1983\",\n        ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"latitude\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"longitude\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4269]]\n\nvulnerable_tracts &lt;- st_transform(vulnerable_tracts, crs = 26917)\nst_crs(vulnerable_tracts)\n\nCoordinate Reference System:\n  User input: EPSG:26917 \n  wkt:\nPROJCRS[\"NAD83 / UTM zone 17N\",\n    BASEGEOGCRS[\"NAD83\",\n        DATUM[\"North American Datum 1983\",\n            ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4269]],\n    CONVERSION[\"UTM zone 17N\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-81,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",0,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Engineering survey, topographic mapping.\"],\n        AREA[\"North America - between 84°W and 78°W - onshore and offshore. Canada - Nunavut; Ontario; Quebec. United States (USA) - Florida; Georgia; Kentucky; Maryland; Michigan; New York; North Carolina; Ohio; Pennsylvania; South Carolina; Tennessee; Virginia; West Virginia.\"],\n        BBOX[23.81,-84,84,-78]],\n    ID[\"EPSG\",26917]]\n\nView(vulnerable_tracts)\n\n\nhospitals &lt;- st_transform(hospitals, crs = 26917)\nView(hospitals)\n\n# Calculate distance from each tract centroid to nearest hospital\n\n#### Distance between county centroids\nvulnerable_tracts_county_centers &lt;- st_centroid(vulnerable_tracts)\nggplot(vulnerable_tracts_county_centers)+\n  geom_sf()+\n  theme_void()\n\n\n\n\n\n\n\n#### Calculate distance matrix (matrix[i, j] is dist from poly i to point j)\ndist_matrix &lt;- st_distance(vulnerable_tracts_county_centers, hospitals)\n#### Get minimum distance for each polygon\nmin_distances &lt;- apply(dist_matrix, 1, min)\n#### Add distances to the original dataframe\nvulnerable_tracts_county_centers$dist_to_nearest &lt;- min_distances/ 1609.34 # Convert from meters to miles\n\nRequirements: - Use an appropriate projected coordinate system for Pennsylvania I have used the PROJCRS[“NAD83 / UTM zone 17N”] (EPSG:26917) which is a common projected coordinate system for the eastern United States, including Pennsylvania. It uses meters as units, which allows for accurate distance calculations.\n\nCalculate distances in miles Distance has been calculated in mile (1 Mile = 1609.34 Meters)\nExplain why you chose your projection I have chosen this projection because it is a common projected coordinate system for the eastern United States, including Pennsylvania. It uses meters as units, which allows for accurate distance calculations.\n\nQuestions to answer:\n\nmean(vulnerable_tracts_county_centers$dist_to_nearest)\n\n[1] 2.619415\n\n\n\nWhat is the average distance to the nearest hospital for vulnerable tracts? The average distance to the nearest hospital for vulnerable tracts is approximately 2.619415 miles.\n\n\nmax(vulnerable_tracts_county_centers$dist_to_nearest)\n\n[1] 18.96458\n\n\n\nWhat is the maximum distance? The maximum distance to the nearest hospital for vulnerable tracts is approximately 18.96458 miles.\nHow many vulnerable tracts are more than 15 miles from the nearest hospital? There are total 128 vulnerable tracts that are more than 15 miles from the nearest hospital.\n\n\ntracts_more_than_15_miles &lt;- vulnerable_tracts_county_centers %&gt;%\n  filter(dist_to_nearest &gt; 15)\nView(tracts_more_than_15_miles)\n\n\n\nStep 5: Identify Underserved Areas\nDefine “underserved” as vulnerable tracts that are more than 15 miles from the nearest hospital. vulnerable tracts that are more than 15 miles from the nearest hospital are considered underserved because they likely face significant barriers to accessing healthcare services, which can lead to worse health outcomes. This distance can be a major obstacle for individuals who may not have reliable transportation or who have mobility issues, particularly among the elderly population. Identifying these underserved areas is crucial for targeting healthcare investments and policy interventions to improve access and equity in healthcare services.\nYour Task:\n\n# Create underserved variable\n\n                                       \n\nunderserved_tracts_out_of_vulnerable_which_are_more_than_15_miles &lt;- tracts_more_than_15_miles %&gt;% \n  mutate(underserved = case_when(\n    dist_to_nearest &gt; 15 ~ \"Yes\",\n    \n  ))\nView(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles )\n\n\n**Questions to answer:**\n- How many tracts are underserved?\nThere are total 9 tracts that are underserved, meaning they are vulnerable and located more than 15 miles from the nearest hospital.\n- What percentage of vulnerable tracts are underserved?\nApproximately 1.62% of vulnerable tracts are underserved, meaning they are located more than 15 miles from the nearest hospital. This is calculated by dividing the number of underserved tracts (9) by the total number of vulnerable tracts (555) and multiplying by 100. \n\n(9 / 555) * 100\n\n[1] 1.621622\n\n\n\nDoes this surprise you? Why or why not? It is somewhat surprising that only a small percentage of vulnerable tracts are underserved, given the significant barriers to healthcare access that can exist in rural and low-income areas. However, it may also reflect the fact that many vulnerable populations are located in more urban or suburban areas where hospitals are more accessible. It highlights the importance of looking beyond just the number of vulnerable tracts and considering the geographic distribution and specific needs of these populations when planning healthcare investments and interventions.\n\n\n\n\nStep 6: Aggregate to County Level\nUse spatial joins and aggregation to calculate county-level statistics about vulnerable populations and hospital access.\nYour Task:\n\n# Spatial join tracts to counties\n\n\n\n\n\n\n# Aggregate statistics by county\n\nRequired county-level statistics: - Number of vulnerable tracts There number of vulnerable tracts in each county is calculated by performing a spatial join between the vulnerable tracts and the county boundaries, and then counting the number of vulnerable tracts that fall within each county. This will gave us a count of how many vulnerable tracts are located in each county, which can help identify which counties have the highest concentration of vulnerable populations that may be underserved in terms of healthcare access. Philadelphia County has the highest number of vulnerable tracts, with a total of 138 vulnerable tracts. This indicates that Philadelphia County has a significant concentration of vulnerable populations that may be at risk of being underserved in terms of healthcare access, particularly if many of these tracts are located far from hospitals. Allegheny County has the second highest number of vulnerable tracts, with a total of 80 vulnerable tracts. This suggests that Allegheny County also has a significant concentration of vulnerable populations that may require targeted healthcare investments and policy interventions to improve access to healthcare services. Luzerne County has the third highest number of vulnerable tracts, with a total of 29 vulnerable tracts. This indicates that Luzerne County also has a notable concentration of vulnerable populations that may be at risk of being underserved in terms of healthcare access. These findings highlight the importance of focusing healthcare investments and policy interventions in these counties to address the needs of vulnerable populations and improve healthcare access and equity.\n\n# Calculate frequencies\nvulnerable_tracts_frequency_by_county &lt;- table(vulnerable_tracts_county_centers$NAMELSADCO)\nView(vulnerable_tracts_frequency_by_county)\nhead(vulnerable_tracts_frequency_by_county)\n\n\n    Adams County Allegheny County Armstrong County    Beaver County \n               1               80                2               12 \n  Bedford County     Berks County \n               2               11 \n\n\n\nNumber of underserved tracts\nThe number of underserved tracts in each county is calculated by performing a spatial join between the underserved tracts (vulnerable tracts that are more than 15 miles from the nearest hospital) and the county boundaries, and then counting the number of underserved tracts that fall within each county. This will give us a count of how many underserved tracts are located in each county, which can help identify which counties have the highest concentration of vulnerable populations that may be at risk of being underserved in terms of healthcare access. Clearfield County has the highest number of underserved tracts, with a total of 3 underserved tracts. This indicates that Pike County has a significant concentration of vulnerable populations that are located far from hospitals and may be at risk of being underserved in terms of healthcare access. Forest County has the second highest number of underserved tracts, with a total of 2 underserved tracts. This suggests that Chester County also has a notable concentration of vulnerable populations that are located far from hospitals and may require targeted healthcare investments and policy interventions to improve access to healthcare services.\n\n\n# Calculate frequencies\nunderserved_tracts_out_of_vulnerable_which_are_more_than_15_miles_frequency_by_county &lt;- table(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles$NAMELSADCO)\nView(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles_frequency_by_county)\nhead(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles_frequency_by_county)\n\n\n   Cameron County     Centre County Clearfield County     Forest County \n                1                 1                 3                 2 \n   Juniata County     Monroe County \n                1                 1 \n\n\n\nPercentage of vulnerable tracts that are underserved # Calculate percentage of vulnerable tracts that are underserved\n\nApproximately 0.02% of vulnerable tracts are underserved, meaning they are located more than 15 miles from the nearest hospital. This is calculated by dividing the number of underserved tracts (9) by the total number of vulnerable tracts (555) and multiplying by 100.\n\n(9 / 555) * 100\n\n[1] 1.621622\n\n\n\nAverage distance to nearest hospital for vulnerable tracts The average distance to the nearest hospital for vulnerable tracts is approximately 2.619415 miles. This is calculated by taking the mean of the dist_to_nearest variable for all vulnerable tracts, which represents the distance from each tract centroid to the nearest hospital.\n\n\nmean(vulnerable_tracts_county_centers$dist_to_nearest)\n\n[1] 2.619415\n\n\n\nTotal vulnerable population The total vulnerable population is calculated by summing the total_popE variable for all vulnerable tracts. This gives us an estimate of the total number of 1861909 people living in vulnerable tracts, which can help us understand the scale of the population that is at risk of being vulnerable in terms of healthcare access.\n\n\n# Calculate frequencies\nTotal_vulnerable_population &lt;- sum(vulnerable_tracts_county_centers$total_popE)\nView(Total_vulnerable_population)\nhead(Total_vulnerable_population)\n\n[1] 1861909\n\n\nQuestions to answer: - Which 5 counties have the highest percentage of underserved vulnerable tracts? The 5 counties with the highest percentage of underserved vulnerable tracts are Clearfield County, Forest County, Cameron County,\nCentre County and Juniata County(Although these counties have same percentage i-e Cameron County, Centre County and Juniata County). These counties have the highest proportion of vulnerable tracts that are located more than 15 miles from the nearest hospital, indicating that they may be at greater risk of being underserved in terms of healthcare access. Targeting healthcare investments and policy interventions in these counties could help improve access to healthcare services for vulnerable populations and address disparities in healthcare access and outcomes.\n\nWhich counties have the most vulnerable people living far from hospitals? the counties with the most vulnerable people living far from hospitals are Clearfield County, Forest County, Cameron County, Monroe County. These counties have the highest number of vulnerable tracts that are located more than 15 miles (i-e 18+) from the nearest hospital, indicating that they may have a significant population of vulnerable individuals who are at risk of being underserved in terms of healthcare access. Focusing healthcare investments and policy interventions in these counties could help improve access to healthcare services for vulnerable populations and address disparities in healthcare access and outcomes.\n\n\nmost_vulnerable_people &lt;- vulnerable_tracts_county_centers %&gt;%\n  arrange(desc(dist_to_nearest))\nhead(most_vulnerable_people)\n\nSimple feature collection with 6 features and 44 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 636569.4 ymin: 4544151 xmax: 964425 ymax: 4599085\nProjected CRS: NAD83 / UTM zone 17N\n  STATEFP COUNTYFP TRACTCE              GEOIDFQ       GEOID  NAME.x\n1      42      033  331100 1400000US42033331100 42033331100    3311\n2      42      023  960100 1400000US42023960100 42023960100    9601\n3      42      053  530100 1400000US42053530100 42053530100    5301\n4      42      053  530200 1400000US42053530200 42053530200    5302\n5      42      089  300311 1400000US42089300311 42089300311 3003.11\n6      42      033  330600 1400000US42033330600 42033330600    3306\n              NAMELSAD STUSPS        NAMELSADCO   STATE_NAME LSAD     ALAND\n1    Census Tract 3311     PA Clearfield County Pennsylvania   CT   2756348\n2    Census Tract 9601     PA    Cameron County Pennsylvania   CT   1838256\n3    Census Tract 5301     PA     Forest County Pennsylvania   CT 534290009\n4    Census Tract 5302     PA     Forest County Pennsylvania   CT 572305586\n5 Census Tract 3003.11     PA     Monroe County Pennsylvania   CT  21807883\n6    Census Tract 3306     PA Clearfield County Pennsylvania   CT 149295977\n   AWATER                                             NAME.y total_popE\n1   72983 Census Tract 3311; Clearfield County; Pennsylvania       3012\n2  107252    Census Tract 9601; Cameron County; Pennsylvania       1988\n3  467322     Census Tract 5301; Forest County; Pennsylvania       4258\n4 7902354     Census Tract 5302; Forest County; Pennsylvania       2701\n5 1775798  Census Tract 3003.11; Monroe County; Pennsylvania       1299\n6 1068529 Census Tract 3306; Clearfield County; Pennsylvania       3343\n  total_popM median_incomeE median_incomeM male_65_66E male_65_66M male_67_69E\n1        342          44756          10874          51          55           9\n2        156          34387           8570          37          20          24\n3         92          44324           6023          64          33          67\n4         92          47132           5310          51          17          76\n5        355          44105          15358          25          24          31\n6        270          49659           5896          54          34          60\n  male_67_69M male_70_74E male_70_74M male_75_79E male_75_79M male_80_84E\n1          13          10          15          26          26          14\n2          16          21          16          24          16          14\n3          28         131          60          83          30          28\n4          21         118          32          86          20          53\n5          35          84          49          39          43           0\n6          40         129          73          77          38          37\n  male_80_84M male_85_150E male_85_150M Female_65_66E Female_65_66M\n1          17           35           29            41            34\n2          14           34           24            34            30\n3          15           46           25            84            59\n4          21           29           14            45            20\n5          11            9           14            46            42\n6          32           74           50            44            34\n  Female_67_69 B01001_045M Female_70_74 B01001_046M Female_75_79 B01001_047M\n1            5           9           81          48           42          30\n2           35          21           64          36           45          23\n3           47          24           90          33           31          15\n4           54          21          128          32           71          23\n5           13          15           15          17           52          46\n6           99          47          138          57           71          43\n  Female_80_84 B01001_048M Female_85_150 B01001_049M Population_65_over\n1           59          61           116          67                489\n2           23          15            73          30                428\n3           48          43            72          69                791\n4           31          17            60          44                802\n5            0          11             0          11                314\n6          100          54           104          46                987\n  dist_to_nearest                 geometry\n1        18.96458 POINT (715707.5 4544151)\n2        18.67476 POINT (730638.3 4599085)\n3        18.67159 POINT (658732.6 4596293)\n4        18.12447 POINT (636569.4 4598061)\n5        17.72684   POINT (964425 4566910)\n6        17.29383 POINT (714544.4 4555896)\n\n\n\n\n\nStep 7: Create Summary Table\nCreate a professional table showing the top 10 priority counties for healthcare investment.\nYour Task:\n\n# Create and format priority counties table\nView(vulnerable_tracts_county_centers)\n\nselected_cols_vulnerable_tracts_county_centers &lt;- vulnerable_tracts_county_centers[, c(\"NAMELSADCO\", \"dist_to_nearest\", \"total_popE\", \"median_incomeE\", \"Population_65_over\")]\nView(selected_cols_vulnerable_tracts_county_centers)\n\nselected_cols_vulnerable_tracts_county_centers &lt;- selected_cols_vulnerable_tracts_county_centers %&gt;%\n  arrange(desc(dist_to_nearest))\nView(selected_cols_vulnerable_tracts_county_centers)\n\n#kable(head(selected_cols_vulnerable_tracts_county_centers, n = 10),\n      #col.names = c(\"NAMELSADCO\"=\"Name Counties\", \"dist_to_nearest\" = \"Distance to nearest hospital (Mile\", \"total_popE\" = \"Total Estimated population\", \"median_incomeE\"= \"Median Income of People\", \"Population_65_over\" = \"Population that is above 65 years of age\", \"geometry\" = \"Geometry of the tracts\"),\n    #  caption = \"Top 10 priority counties for healthcare investment\",\n     # format.args = list(big.mark = \",\"),\n      #)\n\nRequirements: - Use knitr::kable() or similar for formatting\n\nInclude descriptive column names\nFormat numbers appropriately (commas for population, percentages, etc.)\nAdd an informative caption\nSort by priority (you decide the metric)"
  },
  {
    "objectID": "lab2_template.html#part-2-comprehensive-visualization",
    "href": "lab2_template.html#part-2-comprehensive-visualization",
    "title": "Lab 2: Spatial Analysis and Visualization",
    "section": "Part 2: Comprehensive Visualization",
    "text": "Part 2: Comprehensive Visualization\nUsing the skills from Week 3 (Data Visualization), create publication-quality maps and charts.\n\nView(hospitals)\n\n### Map 1: County-Level Choropleth \n\nCreate a choropleth map showing healthcare access challenges at the county level.\nYour Task:\n\n# Create county-level access map\n\ncoords_matrix &lt;- st_coordinates(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles)\nView(coords_matrix)\nunderserved_tracts_out_of_vulnerable_which_are_more_than_15_miles &lt;- cbind(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles, coords_matrix[, c(\"X\", \"Y\")])\nView(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles)\n#underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles &lt;- rename(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles, Tracts_namess = NAMELSAD)\nView(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles)\n\nhospitals_coords_matrix &lt;- st_coordinates(hospitals)\nView(hospitals_coords_matrix)\nhospitals &lt;- cbind(hospitals, hospitals_coords_matrix[, c(\"X\", \"Y\")])\nView(hospitals)\n\n\n\nggplot(data = underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles, aes(x= X,  y=Y, colour = \"black\"))+ geom_point(size = 5) + geom_point(data = hospitals, \n             aes(x = X, y = Y), # Map the aesthetics for the new data\n             color = \"red\",     # Set a specific color for the second data set, outside aes()\n             size = 3)+ \n  labs(title = \"County-Level Choropleth Map of Underserved Vulnerable Tracts in Pennsylvania\",\n       subtitle = \"Red points indicate hospital locations\",\n       caption = \"Data Source: ACS 2022, Pennsylvania Department of Health\") + \n          theme_void()   \n\n\n\n\n\n\n\nView(census_tracts)\n\nRequirements: - Fill counties by percentage of vulnerable tracts that are underserved - Include hospital locations as points - Use an appropriate color scheme - Include clear title, subtitle, and caption - Use theme_void() or similar clean theme - Add a legend with formatted labels\n\n\nMap 2: Detailed Vulnerability Map\nCreate a map highlighting underserved vulnerable tracts.\nYour Task:\n\n# Create detailed tract-level map\n\n\nst_crs(underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles)\n\nCoordinate Reference System:\n  User input: EPSG:26917 \n  wkt:\nPROJCRS[\"NAD83 / UTM zone 17N\",\n    BASEGEOGCRS[\"NAD83\",\n        DATUM[\"North American Datum 1983\",\n            ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4269]],\n    CONVERSION[\"UTM zone 17N\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-81,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",0,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Engineering survey, topographic mapping.\"],\n        AREA[\"North America - between 84°W and 78°W - onshore and offshore. Canada - Nunavut; Ontario; Quebec. United States (USA) - Florida; Georgia; Kentucky; Maryland; Michigan; New York; North Carolina; Ohio; Pennsylvania; South Carolina; Tennessee; Virginia; West Virginia.\"],\n        BBOX[23.81,-84,84,-78]],\n    ID[\"EPSG\",26917]]\n\nst_crs(census_tracts)\n\nCoordinate Reference System:\n  User input: NAD83 \n  wkt:\nGEOGCRS[\"NAD83\",\n    DATUM[\"North American Datum 1983\",\n        ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"latitude\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"longitude\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4269]]\n\ncensus_tracts_NAD83 &lt;- st_transform(census_tracts, crs = 26917)\nView(census_tracts_NAD83)\nst_crs(census_tracts_NAD83)\n\nCoordinate Reference System:\n  User input: EPSG:26917 \n  wkt:\nPROJCRS[\"NAD83 / UTM zone 17N\",\n    BASEGEOGCRS[\"NAD83\",\n        DATUM[\"North American Datum 1983\",\n            ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4269]],\n    CONVERSION[\"UTM zone 17N\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-81,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",0,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Engineering survey, topographic mapping.\"],\n        AREA[\"North America - between 84°W and 78°W - onshore and offshore. Canada - Nunavut; Ontario; Quebec. United States (USA) - Florida; Georgia; Kentucky; Maryland; Michigan; New York; North Carolina; Ohio; Pennsylvania; South Carolina; Tennessee; Virginia; West Virginia.\"],\n        BBOX[23.81,-84,84,-78]],\n    ID[\"EPSG\",26917]]\n\nzxzx &lt;- st_join(census_tracts_NAD83, underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles, join = st_intersects, left = TRUE)\nView(zxzx)\n\nggplot(data = zxzx) +\n  geom_sf(aes(fill = underserved), color = \"white\", size = 0.1) +\n  geom_point(data = hospitals, \n             aes(x = X, y = Y), # Map the aesthetics for the new data\n             color = \"blue\",     # Set a specific color for the second data set, outside aes()\n             size = 3)+ \n  labs(title = \"Tracts-Level Choropleth Map of Underserved Vulnerable Tracts in Pennsylvania\",\n       subtitle = \"Blue points indicate hospital locations\",\n       caption = \"Data Source: ACS 2022, Pennsylvania Department of Health\") + \n          theme_void()  \n\n\n\n\n\n\n\n\nRequirements: - Show underserved vulnerable tracts in a contrasting color - Include county boundaries for context - Show hospital locations - Use appropriate visual hierarchy (what should stand out?) - Include informative title and subtitle\n\n\n\nChart: Distribution Analysis\nCreate a visualization showing the distribution of distances to hospitals for vulnerable populations.\nYour Task:\n\n# Create distribution visualization\n# Create the map\n\nSuggested chart types: - Histogram or density plot of distances\n\nggplot(vulnerable_tracts_county_centers, aes(x = dist_to_nearest)) +\n  geom_histogram(binwidth = 0.1, fill = \"blue\", color = \"white\", position = \"identity\", alpha = 0.8) +\n  labs(\n    title = \"Distribution of distances to hospitals for (total) vulnerable populations\",      # Main plot title\n    subtitle = \"Histogram showing nearest hospital from all vulnerable tracts\",       # Subtitle\n    caption = \"Created: UMAIR BIN SAAD\",     # Plot caption\n    x = \"Distance in Miles\",           # X-axis label\n    y = \"Frequency/count\"                         # Y-axis label\n  ) +\n  theme_classic() # Optional: applies a clean theme\n\n\n\n\n\n\n\n\n\nBox plot comparing distances across regions\n\n\nggplot(vulnerable_tracts_county_centers, aes(x=NAMELSADCO ,y = dist_to_nearest)) +\n  geom_boxplot(binwidth = 0.1, fill = \"blue\", color = \"white\", position = \"identity\", alpha = 0.8) +\n  labs(\n    title = \"Distribution of distances to hospitals for (total) vulnerable populations\",      # Main plot title\n    subtitle = \"Histogram showing nearest hospital from all vulnerable tracts\",       # Subtitle\n    caption = \"Created: UMAIR BIN SAAD\",     # Plot caption\n    x = \"Distance in Miles\",           # X-axis label\n    y = \"Frequency/count\"                         # Y-axis label\n  ) +\n  theme_classic() # Optional: applies a clean theme\n\n\n\n\n\n\n\n\n\nBar chart of underserved tracts by county\n\n\nggplot(data = underserved_tracts_out_of_vulnerable_which_are_more_than_15_miles, aes(x = dist_to_nearest, y = NAME.x)) +\n  geom_col( fill = \"blue\", color = \"white\", position = \"identity\", alpha = 0.8)+\n  labs(\n    title = \"Distribution of distances to hospitals for (total) vulnerable populations\",      # Main plot title\n    subtitle = \"Histogram showing nearest hospital from all vulnerable tracts\",       # Subtitle\n    caption = \"Created: UMAIR BIN SAAD\",     # Plot caption\n    x = \"Distance in Miles\",           # X-axis label\n    y = \"Frequency/count\"                         # Y-axis label\n  ) +\n  theme_classic() # Optional: applies a clean theme\n\n\n\n\n\n\n\n\nThe chart above shows the distribution of distances to hospitals for vulnerable populations in Pennsylvania. The bar chart indicates that the some of vulnerable tracts are not located within a few miles of the nearest hospital, with a long tail extending to higher distances. This suggests that while many vulnerable populations have relatively good access to healthcare services, there are some tracts that face significant barriers due to their distance from hospitals. Targeted interventions may be needed to improve healthcare access for those living in more remote areas.\nRequirements: - Clear axes labels with units - Appropriate title - Professional formatting - Brief interpretation (1-2 sentences as a caption or in text)"
  },
  {
    "objectID": "lab2_template.html#part-3-bring-your-own-data-analysis",
    "href": "lab2_template.html#part-3-bring-your-own-data-analysis",
    "title": "Lab 2: Spatial Analysis and Visualization",
    "section": "Part 3: Bring Your Own Data Analysis",
    "text": "Part 3: Bring Your Own Data Analysis\nChoose ONE of the following challenge exercises, or propose your own research question using OpenDataPhilly data (https://opendataphilly.org/datasets/).\nNote these are just loose suggestions to spark ideas - follow or make your own as the data permits and as your ideas evolve. This analysis should include bringing in your own dataset, ensuring the projection/CRS of your layers align and are appropriate for the analysis (not lat/long or geodetic coordinate systems). The analysis portion should include some combination of spatial and attribute operations to answer a relatively straightforward question\nI have chosen to do the analysis on “Green Space Equity” in Philadelphia. I will be using the data of parks, street trees and census tracts.\n#### Environmental Justice\nOption C: Green Space Equity - Data: Parks, Street Trees, Census tracts (race/income demographics) - Question: “Do low-income and minority neighborhoods have equitable access to green space?” - Operations: Buffer parks (10-minute walk = 0.5 mile), calculate tree canopy or park acreage per capita, compare by demographics - Policy relevance: Climate resilience, environmental justice, urban forestry investment —\nFirst of all for this analysis, I will be using the data of parks, street trees and census tracts. I will be using the data of Philadelphia city. I will be using the data of 2022 ACS for census tracts. I will be using the data of parks and street trees from OpenDataPhilly. I have gotten data from get_acs function for census tracts. I have also read the data of parks and street trees using st_read function. I have transformed the data of parks and street trees to the same projection as census tracts. I have also calculated the coordinates of parks and street trees using st_coordinates function. I have also calculated the median income and median population.\n\nPhilidelphia_data &lt;- get_acs(\n  geography = \"tract\",\n  state = \"PA\",\n  county = \"Philadelphia\",\n   variables = c(\n    total_pop = \"B01003_001\",\n    median_income = \"B19013_001\",\n    white = \"B03002_003\",\n    black = \"B03002_004\",\n    asian = \"B03002_006\",\n    hispanic = \"B03002_012\",\n    Native_Hawaiian = \"B03002_007\",\n    American_Indian= \"B03002_005\",\n    other = \"B03002_008\"\n    \n  ),\n  geometry = TRUE,\n  year = 2022,\n  output = \"wide\"\n)\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |==============                                                        |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |================                                                      |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |=====================                                                 |  29%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |=========================                                             |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |==============================                                        |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |===============================================                       |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |=================================================                     |  71%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |===================================================                   |  74%\n  |                                                                            \n  |====================================================                  |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |========================================================              |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |==========================================================            |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |===================================================================   |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |===================================================================== |  98%\n  |                                                                            \n  |===================================================================== |  99%\n  |                                                                            \n  |======================================================================| 100%\n\nView(Philidelphia_data)\nPhilidelphia_data &lt;- st_transform(Philidelphia_data, crs = 26917)\n\nView(Philidelphia_data)\n\n# transformed the data of Philadelphia census tracts to the same projection as parks and street trees, which is NAD83 / UTM zone 17N (EPSG:26917). This projection is appropriate for spatial analysis in Philadelphia because it uses meters as units, allowing for accurate distance calculations and spatial operations. By ensuring that all datasets are in the same projected coordinate system, I can perform spatial joins, buffering, and other analyses without issues related to misaligned geometries or inaccurate distance measurements.\n\n\nparks_geojson &lt;- st_read(\"C:/Users/Umair Bin Saad/Desktop/Green Space Equity/parks/PPR_Program_Sites.geojson\")\n\nReading layer `PPR_Program_Sites' from data source \n  `C:\\Users\\Umair Bin Saad\\Desktop\\Green Space Equity\\parks\\PPR_Program_Sites.geojson' \n  using driver `GeoJSON'\nSimple feature collection with 171 features and 10 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -75.2563 ymin: 39.90444 xmax: -74.96944 ymax: 40.12284\nGeodetic CRS:  WGS 84\n\nparks_shapefile &lt;- st_read(\"C:/Users/Umair Bin Saad/Desktop/Green Space Equity/parks/PPR_Program_Sites.shp\")\n\nReading layer `PPR_Program_Sites' from data source \n  `C:\\Users\\Umair Bin Saad\\Desktop\\Green Space Equity\\parks\\PPR_Program_Sites.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 171 features and 10 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -8377493 ymin: 4852065 xmax: -8345560 ymax: 4883810\nProjected CRS: WGS 84 / Pseudo-Mercator\n\nparks_shapefile &lt;- st_transform(parks_shapefile, crs = 26917)\nparks_shapefile_coords_matrix &lt;- st_coordinates(parks_shapefile)\n\nparks_shapefile &lt;- cbind(parks_shapefile, parks_shapefile_coords_matrix [, c(\"X\", \"Y\")])\nplot(parks_shapefile)\n\n\n\n\n\n\n\nst_crs(parks_shapefile)\n\nCoordinate Reference System:\n  User input: EPSG:26917 \n  wkt:\nPROJCRS[\"NAD83 / UTM zone 17N\",\n    BASEGEOGCRS[\"NAD83\",\n        DATUM[\"North American Datum 1983\",\n            ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4269]],\n    CONVERSION[\"UTM zone 17N\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-81,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",0,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Engineering survey, topographic mapping.\"],\n        AREA[\"North America - between 84°W and 78°W - onshore and offshore. Canada - Nunavut; Ontario; Quebec. United States (USA) - Florida; Georgia; Kentucky; Maryland; Michigan; New York; North Carolina; Ohio; Pennsylvania; South Carolina; Tennessee; Virginia; West Virginia.\"],\n        BBOX[23.81,-84,84,-78]],\n    ID[\"EPSG\",26917]]\n\nView(parks_shapefile)\nplot(Philidelphia_data$geometry)\n\n\n\n\n\n\n\nstreet_trees &lt;- st_read(\"C:/Users/Umair Bin Saad/Desktop/Green Space Equity/Street Trees/ppr_tree_inventory_2025.shp\")\n\nReading layer `ppr_tree_inventory_2025' from data source \n  `C:\\Users\\Umair Bin Saad\\Desktop\\Green Space Equity\\Street Trees\\ppr_tree_inventory_2025.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 151726 features and 6 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -8380434 ymin: 4847791 xmax: -8344373 ymax: 4885938\nProjected CRS: WGS 84 / Pseudo-Mercator\n\nstreet_trees &lt;- st_transform(street_trees, crs = 26917)\nst_crs(street_trees)\n\nCoordinate Reference System:\n  User input: EPSG:26917 \n  wkt:\nPROJCRS[\"NAD83 / UTM zone 17N\",\n    BASEGEOGCRS[\"NAD83\",\n        DATUM[\"North American Datum 1983\",\n            ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4269]],\n    CONVERSION[\"UTM zone 17N\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-81,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",0,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Engineering survey, topographic mapping.\"],\n        AREA[\"North America - between 84°W and 78°W - onshore and offshore. Canada - Nunavut; Ontario; Quebec. United States (USA) - Florida; Georgia; Kentucky; Maryland; Michigan; New York; North Carolina; Ohio; Pennsylvania; South Carolina; Tennessee; Virginia; West Virginia.\"],\n        BBOX[23.81,-84,84,-78]],\n    ID[\"EPSG\",26917]]\n\nstreet_trees_coordinates &lt;- st_coordinates(street_trees)\nstreet_trees &lt;- cbind(street_trees, street_trees_coordinates[, c(\"X\", \"Y\")])\nView(street_trees)\n\n\n\nmedian(Philidelphia_data$median_incomeE, na.rm = TRUE)\n\n[1] 58514\n\n#Median Income of Philadelphia is $58514. So, I will consider the tracts with median income less than $40,000 as low-income tracts because it is significantly below the median income of Philadelphia, indicating that these tracts may have a higher concentration of low-income residents who could be at greater risk of lacking access to green spaces and other resources. This threshold allows us to focus on areas that are likely to face more significant challenges in terms of environmental justice and access to green space.\nmedian(Philidelphia_data$whiteE, na.rm = TRUE)\n\n[1] 887\n\n#Median number of whiteE people of Philadelphia is 887. So, I will consider the tracts with whiteE population less than 200 as minority neighborhoods because these tracts have a significantly lower number of white residents compared to the median, indicating that they may have a higher concentration of minority populations who could be at greater risk of lacking access to green spaces and other resources. This threshold allows us to focus on areas that are likely to face more significant challenges in terms of environmental justice and access to green space for minority communities.\nmedian(Philidelphia_data$blackE, na.rm = TRUE)\n\n[1] 894.5\n\n#Median number of blackE people of Philadelphia is 895. So, I will consider the tracts with blackE population less than 210 as minority neighborhoods because these tracts have a significantly lower number of black residents compared to the median, indicating that they may have a higher concentration of minority populations who could be at greater risk of lacking access to green spaces and other resources. This threshold allows us to focus on areas that are likely to face more significant challenges in terms of environmental justice and access to green space for minority communities.\nmedian(Philidelphia_data$asianE, na.rm = TRUE)\n\n[1] 129.5\n\n#Median number of asianE people of Philadelphia is 130. So, I will consider the tracts with asianE population less than 50 as minority neighborhoods because these tracts have a significantly lower number of Asian residents compared to the median, indicating that they may have a higher concentration of minority populations who could be at greater risk of lacking access to green spaces and other resources. This threshold allows us to focus on areas that are likely to face more significant challenges in terms of environmental justice and access to green space for minority communities.\nmedian(Philidelphia_data$hispanicE, na.rm = TRUE)\n\n[1] 231\n\n#Median number of hispanicE people of Philadelphia is 231. So, I will consider the tracts with hispanicE population less than 10 as minority neighborhoods because these tracts have a significantly lower number of Hispanic residents compared to the median, indicating that they may have a higher concentration of minority populations who could be at greater risk of lacking access to green spaces and other resources. This threshold allows us to focus on areas that are likely to face more significant challenges in terms of environmental justice and access to green space for minority communities.\nmedian(Philidelphia_data$Native_HawaiianE, na.rm = TRUE)\n\n[1] 0\n\n#Median number of Native_HawaiianE people of Philadelphia is 0. So, I will consider the tracts with Native_HawaiianE population less than 10 as minority neighborhoods because these tracts have a significantly lower number of Native Hawaiian residents compared to the median, indicating that they may have a higher concentration of minority populations who could be at greater risk of lacking access to green spaces and other resources. This threshold allows us to focus on areas that are likely to face more significant challenges in terms of environmental justice and access to green space for minority communities.\nmedian(Philidelphia_data$American_IndianE, na.rm = TRUE)\n\n[1] 0\n\n#Median number of American_IndianE people of Philadelphia is 0. So, I will consider the tracts with American_IndianE  population less than 10 as minority neighborhoods because these tracts have a significantly lower number of American Indian residents compared to the median, indicating that they may have a higher concentration of minority populations who could be at greater risk of lacking access to green spaces and other resources. This threshold allows us to focus on areas that are likely to face more significant challenges in terms of environmental justice and access to green space for minority communities.\nmedian(Philidelphia_data$otherE, na.rm = TRUE)\n\n[1] 0\n\n#Median number of otherE people of Philadelphia is 0. So, I will consider the tracts with otherE population less than 10 as minority neighborhoods because these tracts have a significantly lower number of residents categorized as \"other\" compared to the median, indicating that they may have a higher concentration of minority populations who could be at greater risk of lacking access to green spaces and other resources This threshold allows us to focus on areas that are likely to face more significant challenges in terms of environmental justice and access to green space for minority communities. \n\n\n\n\n# Filter for vulnerable tracts based on your criteria\n\n\nlow_income_Philidelphia_data &lt;- filter(Philidelphia_data, median_incomeE &lt; 40000 & whiteE &lt; 200 | blackE &lt; 210 & asianE &gt; 0 | asianE &lt; 50 & asianE &gt; 0 | hispanicE &lt; 10 & hispanicE &gt; 0 | Native_HawaiianE &lt; 10 & Native_HawaiianE &gt; 0 | American_IndianE &lt; 10 & American_IndianE &gt; 0 | otherE &lt; 10 & otherE &gt; 0)\nView(low_income_Philidelphia_data)\nggplot() +\n  geom_sf(data = Philidelphia_data, fill = \"yellow\", color = \"grey\") +\n  geom_sf(data = low_income_Philidelphia_data, fill = \"red\", color = \"grey\")\n\n\n\n\n\n\n\n#I have filtered the Philadelphia census tracts to identify low-income and minority neighborhoods based on the defined criteria. The resulting dataset, `low_income_Philidelphia_data`, contains the 184 tracts out of 408 tracts that meet the criteria for being considered low-income and/or minority neighborhoods. These tracts are likely to face greater challenges in terms of access to green spaces and other resources, making them important areas of focus for environmental justice and urban planning efforts in Philadelphia.\n\n\nggplot() +\n  geom_sf(data = Philidelphia_data, fill = \"yellow\", color = \"grey\") +\n  geom_sf(data = low_income_Philidelphia_data, fill = \"red\", color = \"grey\") +\n    # 3. Add the points on top\n  geom_sf(data = parks_shapefile, color = \"darkGreen\", size = 2) +\n  theme_minimal()\n\n\n\n\n\n\n\n#Then I showed parks on the map. The parks are shown in dark green color. The low-income and minority neighborhoods are shown in red color, while the other tracts are shown in yellow color. This map allows us to visually assess the distribution of parks in relation to low-income and minority neighborhoods in Philadelphia, which can help identify areas that may be underserved in terms of access to green spaces and inform targeted interventions to improve environmental justice and urban planning efforts.\n\n\nggplot() +\n  geom_sf(data = Philidelphia_data, fill = \"yellow\", color = \"grey\") +\n  geom_sf(data = low_income_Philidelphia_data, fill = \"red\", color = \"grey\") +\n    # 3. Add the points on top\n  \n  geom_sf(data = street_trees, fill = \"blue\", color = \"blue\", size = 0.0001) +\n  geom_sf(data = parks_shapefile, color = \"darkGreen\", size = 2) +\n  theme_minimal()\n\n\n\n\n\n\n\n#The blue points on the map represent the locations of street trees in Philadelphia. By overlaying the street tree data with the census tracts and park locations, we can visually assess the distribution of green spaces and tree canopy in relation to low-income and minority neighborhoods. This can help identify areas that may be underserved in terms of access to green spaces and inform targeted interventions to improve environmental justice and urban planning efforts in Philadelphia.\n\n\nbuffer_area_parks &lt;- st_buffer(parks_shapefile, dist = 804.672) # 0.5 miles in meters\n###ggplot() +\n###  geom_sf(data = buffer_area_parks, fill = \"yellow\", color = \"grey\")\n###View(buffer_area_parks)\n\n#But in analysis we are not taking trees as these are not suitalbe for analysis rather we are taking parks as these are more suitable for analysis. I have created a buffer of 0.5 miles (10-minute walk) around the parks to represent the area of influence of each park. This buffer allows us to visually assess which census tracts fall within a reasonable walking distance to the parks, which can help identify areas that may have better access to green spaces and those that may be underserved in terms of park access. By overlaying the buffer areas with the low-income and minority neighborhoods, we can further analyze the equity of access to green spaces in Philadelphia.\n\n\nggplot() +\n  geom_sf(data = Philidelphia_data, fill = \"yellow\", color = \"grey\") +\n  geom_sf(data = low_income_Philidelphia_data, fill = \"red\", color = \"grey\") +\n    # 3. Add the points on top\n  geom_sf(data = parks_shapefile, color = \"darkGreen\", size = 2) +\n  geom_sf(data = buffer_area_parks, fill = \"pink\", color = \"grey\", alpha = 0.7)+\n  theme_minimal()\n\n\n\n\n\n\n\n#you can see the pink areas on the map represent the buffer zones around the parks, indicating the areas that are within a 10-minute walk (0.5 miles) of the parks. By visually assessing the overlap between these buffer zones and the low-income and minority neighborhoods (shown in red), we can identify which neighborhoods have better access to parks and which may be underserved in terms of green space access. This analysis can help inform targeted interventions to improve environmental justice and urban planning efforts in Philadelphia.\n\n\n st_agr(buffer_area_parks) = \"constant\"\n st_agr(low_income_Philidelphia_data) = \"constant\"\noverlaps_buffer_area_parks_with_vulnerable_tracts &lt;- st_intersection(buffer_area_parks, low_income_Philidelphia_data)\nView(overlaps_buffer_area_parks_with_vulnerable_tracts)\n\nggplot() +\n  geom_sf(data = Philidelphia_data, fill = \"yellow\", color = \"grey\") +\n  geom_sf(data = low_income_Philidelphia_data, fill = \"red\", color = \"grey\") +\n    # 3. Add the points on top\n  geom_sf(data = parks_shapefile, color = \"darkGreen\", size = 2) +\n  geom_sf(data = overlaps_buffer_area_parks_with_vulnerable_tracts, fill = \"blue\", color = \"grey\", alpha = 0.7)+\n  labs(title = \"Map of Park Access in Philadelphia\",\n       subtitle = \"Blue areas represent low-income and minority\n  neighborhoods within a 10-minute walk of parks\",\n       caption = \"Data Source: ACS 2022, OpenDataPhilly\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\"The purple areas on the map represent the low-income and minority neighborhoods that fall within the buffer zones around the parks, indicating that these neighborhoods have better access to green spaces. While red areas represent low-income and minority neighborhoods that do not fall within the buffer zones, indicating that they may be underserved in terms of park access. This analysis helps us understand the spatial distribution of park access in relation to vulnerable populations in Philadelphia and can inform targeted interventions to improve environmental justice and urban planning efforts in the city.\"\n\n[1] \"The purple areas on the map represent the low-income and minority neighborhoods that fall within the buffer zones around the parks, indicating that these neighborhoods have better access to green spaces. While red areas represent low-income and minority neighborhoods that do not fall within the buffer zones, indicating that they may be underserved in terms of park access. This analysis helps us understand the spatial distribution of park access in relation to vulnerable populations in Philadelphia and can inform targeted interventions to improve environmental justice and urban planning efforts in the city.\"\n\n\n\n\n\npoints_in_polygons &lt;- st_join(street_trees, Philidelphia_data, left = FALSE)\nView(points_in_polygons)\n\nNumber_of_trees_in_each_tracts &lt;-  points_in_polygons %&gt;% count(NAME)\n\nNumber_of_trees_in_each_tracts &lt;- sf::st_drop_geometry(Number_of_trees_in_each_tracts)\nView(Number_of_trees_in_each_tracts)    \n\nPhilidelphia_data_plus_Number_of_trees_in_each_tracts &lt;- left_join(Philidelphia_data, Number_of_trees_in_each_tracts, by = \"NAME\")\nView(Philidelphia_data_plus_Number_of_trees_in_each_tracts)    \n\n\nPer_capita_tree_canopy &lt;- Philidelphia_data_plus_Number_of_trees_in_each_tracts %&gt;%\n  mutate(tree_canopy_per_capita = n / total_popE)\n\nView(Per_capita_tree_canopy)\nhead(Per_capita_tree_canopy)\n\nSimple feature collection with 6 features and 22 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 991814.8 ymin: 4434257 xmax: 999730.2 ymax: 4438294\nProjected CRS: NAD83 / UTM zone 17N\n        GEOID                                                  NAME total_popE\n1 42101001500    Census Tract 15; Philadelphia County; Pennsylvania       3251\n2 42101001800    Census Tract 18; Philadelphia County; Pennsylvania       3300\n3 42101002802 Census Tract 28.02; Philadelphia County; Pennsylvania       5720\n4 42101004001 Census Tract 40.01; Philadelphia County; Pennsylvania       4029\n5 42101006300    Census Tract 63; Philadelphia County; Pennsylvania       4415\n6 42101007700    Census Tract 77; Philadelphia County; Pennsylvania       1815\n  total_popM median_incomeE median_incomeM whiteE whiteM blackE blackM asianE\n1        677         110859          24975   2155    268    598    578    239\n2        369         114063          30714   2418    381    347    120    185\n3        796          78871          20396   3472    587    178    165   1103\n4        437          61583          22293   2898    423    140    137    289\n5        853          32347           4840    182     88   3592    722    273\n6        210          48581          13812    974    191    364    103    266\n  asianM hispanicE hispanicM Native_HawaiianE Native_HawaiianM American_IndianE\n1    153       155       105                0               11                0\n2    110       128        76                0               11                0\n3    609       759       458                0               16                0\n4    197       387       277                0               11                0\n5    177       326       389                0               11                0\n6    168        97        50                0               11                0\n  American_IndianM otherE otherM   n                       geometry\n1               11      0     11 586 MULTIPOLYGON (((998585.9 44...\n2               11      0     11 514 MULTIPOLYGON (((998552.9 44...\n3               16      0     16 617 MULTIPOLYGON (((998558.6 44...\n4               11      0     11 347 MULTIPOLYGON (((998355 4435...\n5               11      0     11 137 MULTIPOLYGON (((991814.8 44...\n6               11      0     11 545 MULTIPOLYGON (((994498.6 44...\n  tree_canopy_per_capita\n1             0.18025223\n2             0.15575758\n3             0.10786713\n4             0.08612559\n5             0.03103058\n6             0.30027548\n\n##Kable(Per_capita_tree_canopy)\n\n##head(arrange(Per_capita_tree_canopy, desc(tree_canopy_per_capita)), n = 5)\nrrrrr &lt;-  select(Per_capita_tree_canopy, NAME, total_popE, n, tree_canopy_per_capita) \nView(rrrrr)\n\n#kable(head(rrrrr, n = 10),\n    #  col.names = c(\"NAME\"=\"Census_Tracts\", \"total_popE\" = \"Total population\", \"n\"= \"Number_of_trees \", \"tree_canopy_per_capita\" = \"Number_of_trees(canopy)_per_capita\", \"geometry\"= \"Geometry \" ),\n    #  caption = \"Tree/Tree canopy for each tract per capita \",\n    #  format.args = list(big.mark = \",\"),\n    #  )\n\n\n\n\"Other than our main analysis we also did small spatial and statistical analysis to calculate tree canopy availability per capita across census tracts in Philadelphia. First, a spatial join (st_join) is conducted between the street tree point dataset and the Philadelphia census tract polygon dataset, ensuring that only trees located within tract boundaries are retained . This operation assigns each individual tree to the census tract in which it geographically falls. Next, the joined dataset is grouped by tract name and the number of trees in each tract is counted using the count() function, producing a summary table of total trees per census tract. The geometry column is then removed using st_drop_geometry() so that the data can be handled as a standard tabular dataframe for non-spatial processing. After this, the tree count data are merged back into the original census tract dataset using a left_join based on the tract name, ensuring that each tract polygon now contains both its demographic attributes (including total population) and the corresponding number of trees. Finally, a new variable, tree_canopy_per_capita, is calculated by dividing the number of trees in each tract by the total population estimate (total_popE). This produces a standardized per capita measure of tree availability, allowing for meaningful comparison of urban greenery distribution across census tracts regardless of population size. And then we used Kable function to show the first 10 rows of the data.\nResults shows that Census Tract 369.01; Philadelphia County; Pennsylvania has the highest number of per capita trees and that are 8.48 in number. while Census Tract 9809.05; Philadelphia County; Pennsylvania has the least number of per capita trees. \"\n\n[1] \"Other than our main analysis we also did small spatial and statistical analysis to calculate tree canopy availability per capita across census tracts in Philadelphia. First, a spatial join (st_join) is conducted between the street tree point dataset and the Philadelphia census tract polygon dataset, ensuring that only trees located within tract boundaries are retained . This operation assigns each individual tree to the census tract in which it geographically falls. Next, the joined dataset is grouped by tract name and the number of trees in each tract is counted using the count() function, producing a summary table of total trees per census tract. The geometry column is then removed using st_drop_geometry() so that the data can be handled as a standard tabular dataframe for non-spatial processing. After this, the tree count data are merged back into the original census tract dataset using a left_join based on the tract name, ensuring that each tract polygon now contains both its demographic attributes (including total population) and the corresponding number of trees. Finally, a new variable, tree_canopy_per_capita, is calculated by dividing the number of trees in each tract by the total population estimate (total_popE). This produces a standardized per capita measure of tree availability, allowing for meaningful comparison of urban greenery distribution across census tracts regardless of population size. And then we used Kable function to show the first 10 rows of the data.\\nResults shows that Census Tract 369.01; Philadelphia County; Pennsylvania has the highest number of per capita trees and that are 8.48 in number. while Census Tract 9809.05; Philadelphia County; Pennsylvania has the least number of per capita trees. \"\n\n\"\nData Sources used in above analysis are:\n\n**OpenDataPhilly:** https://opendataphilly.org/datasets/\n- Most datasets available as GeoJSON, Shapefile, or CSV with coordinates\n- Always check the Metadata for a data dictionary of the fields.\n- **Pennsylvania Open Data:** https://data.pa.gov/\n- **Census Bureau (via tidycensus):** Demographics, economic indicators, commute patterns\n- **TIGER/Line (via tigris):** Geographic boundaries\n\"\n\n[1] \"\\nData Sources used in above analysis are:\\n\\n**OpenDataPhilly:** https://opendataphilly.org/datasets/\\n- Most datasets available as GeoJSON, Shapefile, or CSV with coordinates\\n- Always check the Metadata for a data dictionary of the fields.\\n- **Pennsylvania Open Data:** https://data.pa.gov/\\n- **Census Bureau (via tidycensus):** Demographics, economic indicators, commute patterns\\n- **TIGER/Line (via tigris):** Geographic boundaries\\n\"\n\n\nQuestions to answer: - What dataset did you choose and why? We used Green Space Equity related data sets which include Street Trees, parks & Census tracts (race/income demographics) - What is the data source and date? OpenDataPhilly:** https://opendataphilly.org/datasets/ Street Trees, parks = 2025 while Census tracts (race/income demographics) =2022 - What CRS is it in? Did you need to transform it? Yes transformed it to NAD83 / UTM zone 17N” EPSG:26917.\n\n\nPose a research question\n\nWrite a clear research statement that your analysis will answer.\nMy research analysis answers the low income and vulnerable minorities access to parks in each tract of the Philadelphia.\n\n\nConduct spatial analysis\n\nI used all these spatial analysis along with other spatial analysis too. - Buffers - Spatial joins - Spatial filtering with predicates - Distance calculations - Intersections or unions - Point-in-polygon aggregation"
  },
  {
    "objectID": "lab2_template.html#finally---a-few-comments-about-your-incorporation-of-feedback",
    "href": "lab2_template.html#finally---a-few-comments-about-your-incorporation-of-feedback",
    "title": "Lab 2: Spatial Analysis and Visualization",
    "section": "Finally - A few comments about your incorporation of feedback!",
    "text": "Finally - A few comments about your incorporation of feedback!\nYes I have incorporated suggestions which were given to me by teached specially the code hiding in my document."
  },
  {
    "objectID": "lab2_template.html#submission-requirements",
    "href": "lab2_template.html#submission-requirements",
    "title": "Lab 2: Spatial Analysis and Visualization",
    "section": "Submission Requirements",
    "text": "Submission Requirements\nWhat to submit:\n\nRendered HTML document posted to your course portfolio with all code, outputs, maps, and text\n\nUse embed-resources: true in YAML so it’s a single file\nAll code should run without errors\nAll maps and charts should display correctly\n\nSubmit the correct and working links of your assignment on Canvas"
  }
]